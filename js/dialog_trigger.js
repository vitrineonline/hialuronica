function DialogTrigger(t,e){this.complete=!1,this.callback=t,this.timer=null,this.interval=null,this.options=jQuery.extend({trigger:"timeout",target:"",timeout:0,percentDown:50,percentUp:10,scrollInterval:1e3},e),this.init=function(){if("exitIntent"==this.options.trigger||"exit_intent"==this.options.trigger){var t=this;jQuery(document).on("mouseleave",function(e){!t.complete&&e.clientY<0&&(t.callback(),t.complete=!0,jQuery(document).off("mouseleave"))})}else if("target"==this.options.trigger){if(""!==this.options.target)if(0==jQuery(this.options.target).length)this.complete=!0;else{var e=jQuery(this.options.target).offset().top;t=this;this.interval=setInterval(function(){jQuery(window).scrollTop()>=e&&(clearInterval(t.interval),t.interval=null,t.complete||(t.callback(),t.complete=!0))},this.options.scrollInterval)}}else if("scrollDown"==this.options.trigger){var i=jQuery(window).scrollTop(),l=jQuery(document).height();t=this;l>0&&(this.interval=setInterval(function(){var e=jQuery(window).scrollTop()-i;e<0&&(e=0,i=jQuery(window).scrollTop()),parseFloat(e)/parseFloat(l)>parseFloat(t.options.percentDown)/100&&(clearInterval(t.interval),t.interval=null,t.complete||(t.callback(),t.complete=!0))},this.options.scrollInterval))}else if("scrollUp"==this.options.trigger){i=jQuery(window).scrollTop(),l=jQuery(document).height(),t=this;l>0&&(this.interval=setInterval(function(){var e=i-jQuery(window).scrollTop();e<0&&(e=0,i=jQuery(window).scrollTop()),parseFloat(e)/parseFloat(l)>parseFloat(t.options.percentUp)/100&&(clearInterval(t.interval),t.interval=null,t.complete||(t.callback(),t.complete=!0))},this.options.scrollInterval))}else"timeout"==this.options.trigger&&(this.timer=setTimeout(this.callback,this.options.timeout))},this.cancel=function(){null!==this.timer&&(clearTimeout(this.timer),this.timer=null),null!==this.interval&&(clearInterval(this.interval),this.interval=null),this.complete=!0},this.init()}